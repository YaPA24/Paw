# ИНСТРУКЦИЯ ПЕРЕВОДА v8.123 (Машинно-читаемая Версия)

## 1. АБСОЛЮТНЫЕ ЗАПРЕТЫ
* ЗАПРЕЩЕН курсив везде, кроме для текста диалогов в кавычках « ».
* ЗАПРЕЩЕНО менять китайские скобки 【】.
* ЗАПРЕЩЕНО изменять порядок слов в составных терминах.

## 2. ОБЯЗАТЕЛЬНЫЕ ПРАВИЛА ФОРМАТИРОВАНИЯ
### 2.1. Кнопки UI
* ЕСЛИ текст является кнопкой UI (【仓库】, 【好友】, 【交易】, 【拍卖】, 【制造】)
* Перевод сохранить как константу: 【Склад】,【Друзья】,【Торговля】,【Аукцион】,【Производство】.

### 2.2. Системные сообщения
* ЕСЛИ текст начинается с 【, ТО сохранить китайские скобки 【】.

### 2.3. Диалоги и личные сообщения
* ЕСЛИ текст находится в кавычках « » или " ", ТО применить курсив
* ЕСЛИ текст содержит обращение, ТО проанализировать контекст и передать смысл, а не дословный перевод.

### 2.4. Числа и операторы
* ЕСЛИ обнаружено число, ТО сохранить цифровой формат.
* ЕСЛИ число (включая его знак + или -) следует непосредственно за словом без пробела, ТО добавить пробел между словом и числом. Например: "Камень-2" → "Камень -2", "Древесина+2" → "Древесина +2".
* ЕСЛИ число в формате версии (v1.2.3), ТО сохранить без изменений.

### 2.5. Предметы, ресурсы и существа
* ЕСЛИ обнаружен составной термин, ТО разбить его на компоненты
* ЕСЛИ термин содержит "制作图纸", "图纸", "书册", "配方", ТО это чертёж/рецепт/фрагмент
* ЕСЛИ это чертёж/рецепт/фрагмент, ТО собрать в порядке: [чертёж/рецепт/фрагмент] + [качество в родительном падеже] + [материал в родительном падеже] + [предмет в родительном падеже]
* ЕСЛИ это обычный предмет, ТО собрать в порядке: [качество в именительном падеже] + [материал в именительном падеже] + [предмет в именительном падеже]
* ЕСЛИ это предмет, ТО применить Тип: item
* ЕСЛИ это ресурс, ТО применить Тип: resource
* ЕСЛИ это существо, ТО применить Тип: creature
* ЕСЛИ это имя персонажа, ТО применить Тип: char-name
* ЕСЛИ предмет, ресурс или существо упоминается в повествовательном тексте, ТО его наименование ДОЛЖНО склоняться по падежам, числам и родам в соответствии с правилами русского языка. 

### 2.6. Формат вывода
* Финальный результат перевода ДОЛЖЕН быть представлен как автономный, валидный HTML-документ, обернутый в теги <html>, <head> и <body>.
* В теге <head> ОБЯЗАТЕЛЬНО должен присутствовать мета-тег: <meta charset="UTF-8">.
* Это необходимо для корректного отображения разметки и стилей в отдельном окне или веб-браузере.

## 3. ГЛОССАРИЙ
**ВАЖНО:** Глоссарий содержит "желаемые" переводы для сложных слов, перевод ккоторых зависит от многих факторов и контекста. Формы в родительном падеже (указанные в колонках "Перевод (чертёж, родительный падеж)" и "Перевод (родительный падеж)") ДОЛЖНЫ использоваться всякий раз, когда грамматический контекст предложения требует родительного падежа, независимо от того, является ли термин частью названия чертежа или упоминается в повествовании.

### 3.1. Уровни качества
| Оригинал | Перевод (обычный предмет, именительный падеж) | Перевод (чертёж, родительный падеж) | Найдено в тексте |
|----------|-----------------------------------------------|--------------------------------------|-----------------|
| 低级     | Обычный                                       | Обычного                             |                 |
| 精良级   | Качественный                                  | Качественного                        |                 |
| 卓越级   | Превосходный                                  | Превосходного                        |                 |

### 3.2. Материалы
| Оригинал | Перевод (именительный падеж) | Перевод (родительный падеж) | Найдено в тексте |
|----------|------------------------------|-----------------------------|-----------------|
| 铁       | Железо                       | Железного                   |                 |
| 木       | Дерево                       | Деревянного                 |                 |

### 3.3. Базовые типы
| Оригинал   | Перевод            | Тип      | Найдено в тексте |
|------------|--------------------|----------|-----------------|
| 签到       | Чек-ин             |          |                 |
| 小木屋     | Деревянный домик   | item     |                 |
| 升级石     | Камень улучшения   | resource |                 |
| 净水器     | Водоочиститель     | item     |                 |
| 制作图纸   | Чертёж             | item     |                 |
| 黑曜石     | Черный обсидиан    | resource |                 |

## 4. ПРОЦЕДУРА ПЕРЕВОДА
### 4.1. Последовательность действий
1. ЕСЛИ обнаружено системное сообщение (текст в 【】), ТО:
   * Сохранить скобки
   * Перевести содержимое
2. ЕСЛИ обнаружена кнопка UI, ТО:
   * Перевести как константу
   * Сохранить скобки 【】
3. ЕСЛИ обнаружен диалог, ТО:
   * Применить курсив для текста в кавычках
   * Передать смысл, а не дословный перевод
   * Обращение - проанализировать контекст и передать смысл, а не дословный перевод.
4. ЕСЛИ обнаружен составной термин, ТО:
   * Разбить на компоненты (уровень качества, материал, базовый тип)
   * Свериться с глоссарием (раздел 3) для получения правильного перевода каждого компонента
   * ЕСЛИ это чертёж/рецепт, ТО собрать в порядке: [чертёж/рецепт] + [качество в родительном падеже] + [материал в родительном падеже] + [предмет в родительном падеже]
   * ЕСЛИ это обычный предмет, ТО собрать в порядке: [качество в именительном падеже] + [материал в именительном падеже] + [предмет в именительном падеже]
   * Применить соответствующий тип для глоссария (качество, рессурс, материал, предмет)
5. ЕСЛИ обнаружено имя персонажа, ТО применить тип (имя)

### 4.2. Примеры составных терминов
#### Чертежи и рецепты
* ЕСЛИ `精良级净水器制作图纸`, ТО:
  * 制作图纸 → Чертёж
  * 精良级 → Качественного
  * 净水器 → Водоочистителя
  * СОБРАТЬ: Чертёж Качественного Водоочистителя
* ЕСЛИ `低级铁长矛制作图纸`, ТО:
  * 制作图纸 → Чертёж
  * 低级 → Обычного
  * 铁 → Железного
  * 长矛 → Копья
  * СОБРАТЬ: Чертёж Обычного Железного Копья

#### Обычные предметы
* ЕСЛИ `低级铁斧`, ТО:
  * 低级 → Обычная
  * 铁 → Железная
  * 斧 → Секира
  * СОБРАТЬ: Обычная железная секира

## 5. ПРОВЕРКА ПОСЛЕ ПЕРЕВОДА
### 5.1. Автоматизированные проверки
* ЕСЛИ обнаружено системное сообщение, ТО ДОЛЖЕН БЫТЬ скобки 【】
* ЕСЛИ обнаружена кнопка UI, ТО ДОЛЖНЫ БЫТЬ скобки 【】
* ЕСЛИ обнаружен диалог, ТО ТЕКСТ В КАВЫЧКАХ ДОЛЖЕН БЫТЬ В КУРСИВЕ
* ЕСЛИ обнаружено имя персонажа, ТО ДОЛЖЕН БЫТЬ тип char-name
* ЕСЛИ обнаружен предмет/ресурс/существо, ТО ДОЛЖЕН БЫТЬ соответствующий тип
* ЕСЛИ обнаружен чертёж/рецепт, ТО:
  * ДОЛЖЕН СОДЕРЖАТЬ "图纸", "书册" или "配方"
  * ДОЛЖЕН БЫТЬ в порядке: [чертёж/рецепт] + [качество в родительном падеже] + [материал в родительном падеже] + [предмет в родительном падеже]
* ЕСЛИ обнаружен обычный предмет, ТО ДОЛЖЕН БЫТЬ в порядке: [качество в именительном падеже] + [материал в именительном падеже] + [предмет в именительном падеже]
* ЕСЛИ обнаружены числа с операторами (+, -, ×), ТО ДОЛЖНЫ БЫТЬ ПРОБЕЛЫ ВОКРУГ НИХ
* ЕСЛИ обнаружены числа, ТО ДОЛЖНЫ БЫТЬ В ПРАВИЛЬНОМ ФОРМАТЕ

## 6. ОБНОВЛЕНИЕ ГЛОССАРИЯ
### 6.1. КОГДА ОБНОВЛЯТЬ ГЛОССАРИЙ
Глоссарий должен обновляться после перевода каждого текстового фрагмента, если в тексте обнаружены новые термины, отсутствующие в текущем глоссарии.

### 6.2. ШАГИ ОБНОВЛЕНИЯ
1. **Анализ главы:**
   * Проверь все термины в переведенной главе
   * ЕСЛИ термин отсутствует в текущем глоссарии (раздел 3), ТО добавь его
   * ЕСЛИ термин содержит несколько компонентов (например, уровень качества + материал + базовый тип), ТО разбей его на компоненты и проверь каждый компонент отдельно
2. **Добавление нового термина:**
   * Определи тип термина (уровень качества, материал, базовый тип)
   * ЕСЛИ это уровень качества, ТО укажи перевод для обычных предметов и для чертежей (в родительном падеже)
   * ЕСЛИ это материал, ТО укажи перевод в именительном и родительном падежах
   * ЕСЛИ это базовый тип, ТО укажи тип (item, resource, creature)
   * Укажи имя файла текста и номер строки в столбце "Найдено в тексте"
3. **Проверка перед добавлением:**
   * ЕСЛИ термин похож на существующий, ТО проверь, не является ли это вариацией уже существующего термина
   * ЕСЛИ термин является составным, ТО проверь, не можно ли собрать его из существующих компонентов

### 6.3. Формат добавления новых терминов
* ЕСЛИ новый уровень качества, ТО добавить в раздел 3.1 с формами для обычных предметов и чертежей
* ЕСЛИ новый материал, ТО добавить в раздел 3.2 с формами в именительном и родительном падежах
* ЕСЛИ новый базовый тип, ТО добавить в раздел 3.3 с указанием типа (item, resource, creature)
* ВСЕГДА указывать имя текстового файла и номер строки в столбце "Найдено в тексте"

### 6.4. Пример добавления нового термина
* ЕСЛИ в файле text-030.txt, строка 15 обнаружен термин `长矛`, отсутствующий в глоссарии, ТО:
  * Тип: Базовый тип
  * Оригинал: 长矛
  * Перевод: Копьё
  * Тип: item
  * Найдено в тексте: text-030.txt, строка 15
* ЕСЛИ в файле text-040.txt, строка 8 обнаружен термин `普通级`, отсутствующий в глоссарии, ТО:
  * Тип: Уровень качества
  * Оригинал: 普通级
  * Перевод (обычный предмет): Обычный
  * Перевод (чертёж, родительный падеж): Обычного
  * Найдено в тексте: text-040.txt, строка 8

---
