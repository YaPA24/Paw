<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Редактор глоссария</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="errorBanner" class="error-banner" style="display: none;"></div>
        <div id="notificationBanner" class="notification-banner" style="display: none;"></div>
        <header>
            <h1>Редактор глоссария</h1>
            <div class="stats">
                <span>Версия: <strong id="version">14.15</strong></span>
                <span>Всего терминов: <strong id="totalTerms">0</strong></span>
                <span>Последнее обновление: <strong id="lastUpdate">--</strong></span>
                <span>Статус: <strong id="systemStatus" class="status-ok">ОК</strong></span>
            </div>
        </header>
        <main>
            <section class="controls">
                <input type="text" id="search" placeholder="Поиск по оригиналу/переводу...">
                <select id="categoryFilter">
                    <option value="all">Все категории</option>
                    <option value="quality_level">Уровни качества</option>
                    <option value="material">Материалы</option>
                    <option value="base_type">Базовые типы</option>
                </select>
                <button id="addTerm">+ Добавить термин</button>
                <button id="exportBtn">Экспорт JSON</button>
                <input type="file" id="importFile" accept=".json" style="display: none;">
                <button id="importBtn">Импорт JSON</button>
                <button id="validateBtn">Проверить</button>
            </section>
            <section class="glossary-table">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Оригинал (кит)</th>
                            <th>Категория</th>
                            <th>Тип</th>
                            <th>Перевод (им.п.)</th>
                            <th>Перевод (род.п.)</th>
                            <th>Источник</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody id="termsList">
                        <tr id="noDataRow">
                            <td colspan="8" style="text-align: center; padding: 20px;">
                                Нет данных для отображения. Пожалуйста, импортируйте глоссарий.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
        <div id="editModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modalTitle">Добавить термин</h2>
                <form id="termForm">
                    <input type="hidden" id="termId">
                    <label for="original">Оригинал (кит):</label>
                    <input type="text" id="original" required>
                    <label for="category">Категория:</label>
                    <select id="category" required>
                        <option value="">Выберите категорию</option>
                        <option value="quality_level">Уровень качества</option>
                        <option value="material">Материал</option>
                        <option value="base_type">Базовый тип</option>
                    </select>
                    <div id="typeField" style="display: none;">
                        <label for="type">Тип (для базового типа):</label>
                        <select id="type">
                            <option value="">Выберите тип</option>
                            <option value="item">Предмет</option>
                            <option value="resource">Ресурс</option>
                            <option value="creature">Существо</option>
                        </select>
                    </div>
                    <label for="nominative">Перевод (именительный падеж):</label>
                    <input type="text" id="nominative" required>
                    <label for="genitive">Перевод (родительный падеж):</label>
                    <input type="text" id="genitive" required>
                    <label for="sourceFile">Исходный файл:</label>
                    <input type="text" id="sourceFile">
                    <label for="sourceLine">Строка:</label>
                    <input type="number" id="sourceLine" min="1">
                    <label for="notes">Примечания:</label>
                    <textarea id="notes"></textarea>
                    <div class="form-buttons">
                        <button type="submit" id="saveBtn">Сохранить</button>
                        <button type="button" id="cancelBtn">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
